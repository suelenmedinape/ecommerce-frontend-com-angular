<div class="div-home">
    <div class="text-center mb-15 mt-15 titulo">
        <h2 class="shadow-below text-2xl">Produtos Mais Vendidos</h2>
        <p class="subtituto">Os favoritos de nossos clientes!</p>
    </div>
    <!-- Inicio Card de Mais Vendidos --> <!-- Esta sendo criado dinamicamente-->
    <div class="flex justify-center space-x-2 fundo shadow">
        <div *ngFor="let prod of produtos"
            class="w-full max-w-[20rem] bg-white rounded-lg light:bg-gray-800 light:border-gray-700">
            <a routerLink="/produto/{{ prod.id }}" routerLinkActive="active">
                <img class="p-1 rounded-t-lg w-26 h-26 object-cover mx-auto" [src]="prod.imagem" [alt]="prod.nome" />
            </a>
            <div class="px-1 pb-2">
                <a routerLink="/produto/{{ prod.id }}" routerLinkActive="active">
                    <h5 class="text-[20px] font-semibold tracking-tight text-gray-900 light:text-white">
                        {{ prod.nome }}
                    </h5>
                </a>
                <div class="flex items-center mt-1 mb-2">
                    <div class="flex items-center space-x-0.5 rtl:space-x-reverse">
                        <svg *ngFor="let star of getStars(prod.avaliacao)" class="w-2.5 h-2.5"
                            [ngClass]="{'text-yellow-300': star >= 1, 'text-gray-300': star < 1}"
                            xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 22 20">
                            <path
                                d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z" />
                        </svg>
                    </div>
                    <span
                        class="bg-blue-100 text-blue-800 text-[10px] font-semibold px-1 py-0.5 rounded light:bg-blue-200 light:text-blue-800 ms-1">
                        {{ prod.avaliacao }}
                    </span>
                </div>
                <div class="flex items-center justify-between">
                    <span class="text-[17px] font-bold text-gray-900 light:text-white">{{ prod.preco |
                        currency:'BRL':'symbol':'1.2-2' }}</span>
                    <button
                        class=" bg-white-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-[15px] px-2 py-1 text-center light:bg-blue-600 light:hover:bg-blue-700 light:focus:ring-blue-800 bordas mr-2">
                        <svg width="20px" height="20px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <style>
                                    .cls-1 {
                                        fill: none;
                                        stroke: #020202;
                                        stroke-miterlimit: 10;
                                        stroke-width: 1.91px;
                                    }
                                </style>
                            </defs>
                            <g id="cart">
                                <circle class="cls-1" cx="10.07" cy="20.59" r="1.91" />
                                <circle class="cls-1" cx="18.66" cy="20.59" r="1.91" />
                                <path class="cls-1"
                                    d="M.52,1.5H3.18a2.87,2.87,0,0,1,2.74,2L9.11,13.91H8.64A2.39,2.39,0,0,0,6.25,16.3h0a2.39,2.39,0,0,0,2.39,2.38h10" />
                                <polyline class="cls-1"
                                    points="7.21 5.32 22.48 5.32 22.48 7.23 20.57 13.91 9.11 13.91" />
                            </g>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- Fim Card -->

    <div class="flex justify-center mt-15">
        <button
            class="bg-white-600 border-black-700 text-black  font-semibold px-4 py-2 rounded-lg light:bg-blue-700 borda">
            <a routerLink="/shop" routerLinkActive="active">Mais Produtos</a>
        </button>
    </div>

    <div class="text-center mb-15 mt-15 titulo">
        <h2 class="shadow-below text-2xl">Categorias Mais Vendidas</h2>
        <p class="subtituto">Destaque em escolhas!</p>
    </div>
    
    <!-- Inicio do card de categorias-->
    <div class="flex justify-center space-x-2">
        <div *ngFor="let categ of categorias"
            class="max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700">
            <div class="flex items-center mb-4">
                <svg class="w-7 h-7 text-gray-500 dark:text-gray-400 me-3" aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                    <path
                        d="M18 5h-.7c.229-.467.349-.98.351-1.5a3.5 3.5 0 0 0-3.5-3.5c-1.717 0-3.215 1.2-4.331 2.481C8.4.842 6.949 0 5.5 0A3.5 3.5 0 0 0 2 3.5c.003.52.123 1.033.351 1.5H2a2 2 0 0 0-2 2v3a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1V7a2 2 0 0 0-2-2ZM8.058 5H5.5a1.5 1.5 0 0 1 0-3c.9 0 2 .754 3.092 2.122-.219.337-.392.635-.534.878Zm6.1 0h-3.742c.933-1.368 2.371-3 3.739-3a1.5 1.5 0 0 1 0 3h.003ZM11 13H9v7h2v-7Zm-4 0H2v5a2 2 0 0 0 2 2h3v-7Zm6 0v7h3a2 2 0 0 0 2-2v-5h-5Z" />
                </svg>
                <a href="#">
                    <h5 class="text-2xl font-semibold tracking-tight text-gray-900 light:text-black">
                        {{ categ.nome }}
                    </h5>
                </a>
            </div>
            <p class="mb-3 font-normal text-gray-500 light:text-black-400">{{ categ.desc }}</p>
            <a href="#" class="inline-flex font-medium items-center text-black-600 hover:underline">
                Ver Mais da Categoria
                <svg class="w-3 h-3 ms-2.5 rtl:rotate-[270deg]" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                    fill="none" viewBox="0 0 18 18">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M15 11v4.833A1.166 1.166 0 0 1 13.833 17H2.167A1.167 1.167 0 0 1 1 15.833V4.167A1.166 1.166 0 0 1 2.167 3h4.618m4.447-2H17v5.768M9.111 8.889l7.778-7.778" />
                </svg>
            </a>
        </div>
    </div>
    <!-- Fim do card de categorias-->

    <div class="text-center mb-15 mt-15 titulo">
        <h2 class="shadow-below text-2xl">Novidades</h2>
        <p class="subtituto">Os lançamentos mais recentes para você!</p>
    </div>

    <!-- Inicio Card de Novidades --> <!-- Esta sendo criado dinamicamente-->
    <div class="flex justify-center space-x-2 fundo-2">
        <div *ngFor="let prod of produtos"
            class="w-full max-w-[20rem] bg-white rounded-lg light:bg-gray-800 light:border-gray-700 borda shadow">
            <a routerLink="/produto/{{ prod.id }}" routerLinkActive="active">
                <img class="p-1 rounded-t-lg w-26 h-26 object-cover mx-auto" [src]="prod.imagem" [alt]="prod.nome" />
            </a>
            <div class="px-1 pb-2">
                <a routerLink="/produto/{{ prod.id }}" routerLinkActive="active">
                    <h5 class="text-[20px] font-semibold tracking-tight text-gray-900 light:text-white">
                        {{ prod.nome }}
                    </h5>
                </a>
                <div class="flex items-center mt-1 mb-2">
                    <div class="flex items-center space-x-0.5 rtl:space-x-reverse">
                        <svg *ngFor="let star of getStars(prod.avaliacao)" class="w-2.5 h-2.5"
                            [ngClass]="{'text-yellow-300': star >= 1, 'text-gray-300': star < 1}"
                            xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 22 20">
                            <path
                                d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z" />
                        </svg>
                    </div>
                    <span
                        class="bg-blue-100 text-blue-800 text-[10px] font-semibold px-1 py-0.5 rounded light:bg-blue-200 light:text-blue-800 ms-1">
                        {{ prod.avaliacao }}
                    </span>
                </div>
                <div class="flex items-center justify-between">
                    <span class="text-[17px] font-bold text-gray-900 light:text-white">{{ prod.preco |
                        currency:'BRL':'symbol':'1.2-2' }}</span>
                    <button
                        class=" bg-white-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-[15px] px-2 py-1 text-center light:bg-blue-600 light:hover:bg-blue-700 light:focus:ring-blue-800 bordas mr-2">
                        <svg width="20px" height="20px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <style>
                                    .cls-1 {
                                        fill: none;
                                        stroke: #020202;
                                        stroke-miterlimit: 10;
                                        stroke-width: 1.91px;
                                    }
                                </style>
                            </defs>
                            <g id="cart">
                                <circle class="cls-1" cx="10.07" cy="20.59" r="1.91" />
                                <circle class="cls-1" cx="18.66" cy="20.59" r="1.91" />
                                <path class="cls-1"
                                    d="M.52,1.5H3.18a2.87,2.87,0,0,1,2.74,2L9.11,13.91H8.64A2.39,2.39,0,0,0,6.25,16.3h0a2.39,2.39,0,0,0,2.39,2.38h10" />
                                <polyline class="cls-1"
                                    points="7.21 5.32 22.48 5.32 22.48 7.23 20.57 13.91 9.11 13.91" />
                            </g>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- Fim Card -->
</div>